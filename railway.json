{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "DOCKERFILE"
  },
  "deploy": {
    "startCommand": "node src/server.js",
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 10
  },
  "variables": {
    "SETUP_PASSWORD": {
      "description": "Password to protect the /setup page",
      "required": true
    },
    "BRAVE_API_KEY": {
      "description": "API Key for Brave Search (Optional)",
      "required": false
    },
    "OPENCLAW_GATEWAY_TOKEN": {
      "description": "Token for connecting external clients",
      "defaultValue": "${{ secret(32) }}",
      "required": false
    },
    "CLAWDBOT_GATEWAY_TOKEN": {
      "description": "Legacy token env (copied to OPENCLAW_GATEWAY_TOKEN on startup)",
      "required": false
    },
    "OPENCLAW_STATE_DIR": {
      "description": "Directory for OpenClaw state",
      "defaultValue": "/data/.openclaw",
      "required": false
    },
    "CLAWDBOT_STATE_DIR": {
      "description": "Legacy state dir (copied into /data/.openclaw on startup)",
      "defaultValue": "/data/.clawdbot",
      "required": false
    },
    "OPENCLAW_WORKSPACE_DIR": {
      "description": "Directory for OpenClaw workspace files",
      "defaultValue": "/data/workspace",
      "required": false
    },
    "CLAWDBOT_WORKSPACE_DIR": {
      "description": "Legacy workspace dir",
      "defaultValue": "/data/workspace",
      "required": false
    },
    "OPENCLAW_GATEWAY_BIND": {
      "description": "Host to bind the gateway to (127.0.0.1 for internal proxying)",
      "defaultValue": "127.0.0.1",
      "required": false
    }
  }
}
